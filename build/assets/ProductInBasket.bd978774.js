var I=Object.defineProperty,P=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var C=(e,t,s)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))B.call(t,s)&&C(e,s,t[s]);if(g)for(var s of g(t))S.call(t,s)&&C(e,s,t[s]);return e},l=(e,t)=>P(e,w(t));import{b as y,a as T,m as F,c as u,e as a,w as v,T as b,g as W,n as h,f as r,j as _,E as q,G,r as m,H as M,o as n,h as j}from"./vendor.7e8d65a9.js";import{_ as E}from"./index.69fc50e5.js";const N={name:"product-in-basket",props:{product:Object},data(){return{checkbox:!1,trashCan:!1,productSwipeParams:{dist:document.documentElement.clientWidth/30,swipeToRightFn:()=>{this.productClick()},swipeToLeftFn:()=>{this.trashCan=!this.trashCan}}}},methods:l(d(d({},y({removeFromCart:"basketWindow/removeFromCartAction"})),T({removeSelectedProduct:"basketWindow/removeSelectedProductMutation",selectProduct:"basketWindow/selectProductMutation",changeSelectedProductCount:"basketWindow/changeSelectedProductCountMutation"})),{productClick(){!this.getCheckboxTabs||this.product.quantity===0||(this.isItInBasket?this.removeSelectedProduct(this.product.id):this.selectProduct(this.product))},counterChange(e){let t={id:this.product.id,inBasketCount:e};this.changeSelectedProductCount(t)}}),computed:l(d({},F({getSelectedProductsInBasket:"basketWindow/getSelectedProductsInBasketGetter",getCheckboxTabs:"basketWindow/getCheckboxTabsGetter",getCounterTabs:"basketWindow/getCounterTabsGetter"})),{isItInBasket:function(){return Object.values(this.getSelectedProductsInBasket).includes(this.product)},getFolder:function(){return this.product.img_path==="not_found.svg"?!1:"products"},getFullPath:function(){return Boolean(this.product.img_data)||!1},getProductImg:function(){return this.product.img_data||"content/"+this.product.img_path}})},V=e=>(q("data-v-5ed39344"),e=e(),G(),e),A={class:"product_in_basket"},D=["checked"],O={class:"product_img"},z={class:"product_in_basket_content"},H={class:"product_in_basket_text"},L=V(()=>r("div",{class:"arc"},null,-1));function R(e,t,s,J,p,c){const k=m("standard-img"),i=m("standard-text"),f=m("quantity-counter"),x=M("swipe");return n(),u("div",A,[a(b,{name:"checkbox_visible"},{default:v(()=>[e.getCheckboxTabs&&s.product.quantity>0?(n(),u("div",{key:0,class:h(["checkbox",{checkbox_checked:c.isItInBasket}]),onClick:t[0]||(t[0]=o=>c.productClick())},[r("input",{type:"checkbox",checked:c.isItInBasket},null,8,D)],2)):_("",!0)]),_:1}),W((n(),u("div",{class:h(["product",{product_active:c.isItInBasket}]),onClick:t[1]||(t[1]=o=>c.productClick())},[r("div",O,[a(k,{class:"img",fullPath:c.getFullPath,path:c.getProductImg},null,8,["fullPath","path"])]),r("div",z,[r("div",H,[a(i,{class:"standard_text",text:s.product.title},null,8,["text"]),a(i,{class:"standard_text",text:s.product.quantity>0?s.product.description:"\u041D\u0435\u0442 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"},null,8,["text"])]),a(i,{class:"price",text:s.product.price},null,8,["text"]),L])],2)),[[x,p.productSwipeParams]]),e.getCheckboxTabs?(n(),u("div",{key:0,class:h(["remove_from_basket",{trash_can:p.trashCan}])},[a(k,{src:"content/remove.svg",onClick:t[2]||(t[2]=o=>e.removeFromCart(s.product.id))})],2)):_("",!0),a(b,{name:"counter_visible"},{default:v(()=>{var o;return[e.getCounterTabs&&s.product.quantity>0?(n(),j(f,{key:0,min:1,max:s.product.quantity,count:(o=s.product.InBasketCount)!=null?o:1,onCounterChange:c.counterChange,class:"counter"},null,8,["max","count","onCounterChange"])):_("",!0)]}),_:1})])}var X=E(N,[["render",R],["__scopeId","data-v-5ed39344"]]);export{X as default};
