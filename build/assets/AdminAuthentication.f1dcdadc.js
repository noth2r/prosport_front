var g=Object.defineProperty,A=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var m=(t,e,o)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,a=(t,e)=>{for(var o in e||(e={}))k.call(e,o)&&m(t,o,e[o]);if(c)for(var o of c(e))z.call(e,o)&&m(t,o,e[o]);return t},u=(t,e)=>A(t,y(e));import{a as x,b as T,m as b,r as i,o as h,h as _,w as p,j as C,e as r,B as I,z as V}from"./vendor.7e8d65a9.js";import B from"./ModalWindow.d75eee5f.js";import{_ as E}from"./index.69fc50e5.js";const K={name:"admin-authentication",data(){return{log:"",email:"",password:""}},methods:u(a(a({},x({setAdmin:"clientInfo/setAdminMutation"})),T({authorize:"admin/authorizeAction",validateToken:"admin/validateTokenAction"})),{_authorize(){const{email:t,password:e}=this;t.length===0?this.log="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail":e.length===0?this.log="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C":this.authorize(this).then(o=>{o.status>=200&&o.status<300?this.setAdmin(!0):this.log=o.msg||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u043E\u0439\u0442\u0438"}).catch(o=>{throw new Error(o)})},async _validateToken(){try{return await this.validateToken(this.accessToken)}catch(t){throw new Error(t)}}}),computed:a({},b({isAuthorized:"admin/isAuthorizedGetter"})),components:{ModalWindow:B},async mounted(){try{const t=await this._validateToken();this.setAdmin(t)}catch(t){throw new Error(t)}}},M=V("\u0412\u043E\u0439\u0442\u0438");function N(t,e,o,G,n,d){const w=i("standard-text"),l=i("standard-input"),f=i("dynamic-button"),v=i("modal-window");return h(),_(v,{class:"admin_authentication",title:"\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F",visible:!t.isAuthorized,onKeyup:I(d._authorize,["enter"])},{default:p(()=>[n.log.length>0?(h(),_(w,{key:0,text:n.log},null,8,["text"])):C("",!0),r(l,{onInput:e[0]||(e[0]=s=>n.email=s.target.value),placeholder:"\u0410\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B"}),r(l,{type:"password",onInput:e[1]||(e[1]=s=>n.password=s.target.value),placeholder:"\u041F\u0430\u0440\u043E\u043B\u044C"}),r(f,{class:"login_btn",onClick:d._authorize},{default:p(()=>[M]),_:1},8,["onClick"])]),_:1},8,["visible","onKeyup"])}var F=E(K,[["render",N],["__scopeId","data-v-0f4d5362"]]);export{F as default};
